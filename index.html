<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Портфолио</title>

  <style>
    @font-face {
      font-family: 'MinecraftFont';
      src: url('minecraft-font.ttf') format('truetype');
    }

    html, body { margin: 0; padding: 0; }
    body {
      color: white;
      font-family: 'MinecraftFont', cursive;
      text-align: center;
    }

    .bg{
      min-height: 100vh;
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
    }

    /* 1-й экран */
    .bg-1{
      display: flex;
      align-items: center;
      justify-content: center;
      background-image: url("back.jpg");
    }

    /* 2-й экран */
    .bg-2{
      background-image: url("back2.JPEG");
      /* чтобы секции шли вниз как обычная страница */
      display: block;
      padding: 40px 0 120px;
    }

    .menu{
      background: rgba(0,0,0,0);
      padding: 15px;
    }

    h1{
      font-size: 70px;
      text-shadow: 2px 2px 5px black;
      margin: 0 0 20px 0;
    }

    button{
      background-image: url('knopka.png');
      background-repeat: no-repeat;
      background-position: center;
      background-size: 103% 107%;
      width: 220px;
      height: 70px;
      border: 0;
      border-radius: 8px;
      color: gainsboro;
      font-size: 25px;
      cursor: pointer;
      text-shadow: 2px 2px 3px black;
      margin: 10px 15px 10px 10px;
      font-family: 'MinecraftFont', cursive;
      filter: brightness(0.85);
      transition: filter 400ms ease, transform 800ms ease;
      white-space: normal;
      outline: none;
    }

    button:hover{
      transform: scale(1.1);
      filter: brightness(1.1);
    }

    /* секции теперь ВСЕ видны */
    .section{
      display: block;
      background-color: rgba(1, 4, 0, 0.5);
      padding: 20px 50px;
      font-size: 20px;
      width: min(600px, 92vw);
      margin: 20px auto 0;
      border-radius: 10px;
    }

    h2{ margin: 0 0 12px 0; text-shadow: 2px 2px 4px black; }
    p{ margin: 10px 0; }

    .audio{
      position: fixed;
      left: 50%;
      bottom: 20px;
      transform: translateX(-50%);
      z-index: 999;
    }

    .audio audio{
      width: min(520px, 92vw);
    }
  </style>
</head>

<body>

<section class="bg bg-1">
  <div class="menu">
    <h1>plidan</h1>
    <div class="buttons">
      <button class="menu-btn" data-target="about">about me</button>
      <button class="menu-btn" data-target="portfolio">projects</button>
      <button class="menu-btn" data-target="contact">socials</button>
    </div>
  </div>
</section>

<section class="bg bg-2" id="second">
  <div class="panel">

    <div id="about" class="section">
      <h2>Обо мне</h2>
      <p>Ученик первого курса ВШЭ СПБ ПАДИИ.
        В перспективе очень полезный и высококвалифицированный работник,
        а пока начинающий C++/Python-developer</p>
    </div>

    <div id="portfolio" class="section">
      <h2>Портфолио</h2>
      <p>Тут будут проекты…</p>
    </div>

    <div id="contact" class="section">
      <h2>Контакты</h2>
      <p>Telegram: @plidan</p>
      <p>VK: @plidan</p>
      <p>mail: plyugind@yandex.ru</p>
    </div>

    <div class="audio">
      <audio controls autoplay loop>
        <source src="c418.mp3" type="audio/mpeg">
        Ваш браузер не поддерживает воспроизведение аудио.
      </audio>
    </div>

  </div>
</section>

<script>
  const buttons = document.querySelectorAll('.menu-btn');

  // неравномерная скорость (разгон + торможение)
  function easeInOutCubic(t) {
    return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;
  }

  function smoothScrollTo(targetY, durationMs = 900) {
    const startY = window.scrollY;
    const maxY = document.documentElement.scrollHeight - window.innerHeight;

    // ограничиваем в пределах страницы, иначе улетает "в низ"
    targetY = Math.min(Math.max(targetY, 0), Math.max(maxY, 0));

    const delta = targetY - startY;
    const startTime = performance.now();

    function step(now) {
      const t = Math.min(1, (now - startTime) / durationMs);
      const eased = easeInOutCubic(t);
      window.scrollTo(0, startY + delta * eased);
      if (t < 1) requestAnimationFrame(step);
    }

    requestAnimationFrame(step);
  }

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const id = btn.dataset.target;
      const el = document.getElementById(id);
      if (!el) return;

      // если нужно, чтобы блок не прилипал к самому верху — отступ:
      const offset = 20;

      // offsetTop стабильнее в таких лэйаутах
      let y = el.offsetTop - offset;

      // если секции внутри контейнера, прибавим его смещение (на всякий)
      const parent = el.offsetParent;
      if (parent && parent !== document.body) {
        y = parent.getBoundingClientRect().top + window.scrollY + el.offsetTop - offset;
      } else {
        y = el.getBoundingClientRect().top + window.scrollY - offset;
      }

      smoothScrollTo(y, 900);
    });
  });
</script>

</body>
</html>